<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EterPack &mdash; Metin2Dev Wiki</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/design-tabs.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html">
            <img src="https://raw.githubusercontent.com/Metin2-Dev/Assets/main/128_round_black.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Wiki</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Topics/index.html">Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../Topics/Cryptography/index.html">Cryptography</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../Topics/Cryptography/index.html#algorythm-types">Algorythm Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_0.html">Raw (Type 0)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_1.html">-LZO (Type 1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_2.html">~XTEA(-LZO) (Type 2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_3.html">Panama (Type 3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_4.html">HybridCrypt (Type 4)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_5.html">HybridCrypt+ (Type 5)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Topics/Cryptography/type_6.html">~XTEA(-Snappy) (Type 6)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Topics/Formats/index.html">Formats</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Topics/Networking/index.html">Networking</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Incomplete Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../index.html">Formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../texture_caching.html">DDS Texture Caching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../texture_caching.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../texture_caching.html#rdch-format">RDCH Format</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../About/Contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../About/Changelogs/index.html">Changelogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../About/Maintenance/index.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../About/Maintenance/workflow.html">Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../About/Maintenance/workflow.html#o-development-flow">1º - Development flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../About/Maintenance/workflow.html#o-beta-flow">2º - Beta flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../About/Maintenance/workflow.html#o-stable-release-flow">3º - Stable release flow</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>EterPack</li>


      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/Metin2-Dev/Wiki/blob/main/pages/Incomplete/Formats/Pack/eter.md" class="fa fa-github"> Edit on GitHub</a>
      </li>

<style>
	.edit-guidelines {
		font-size: 14px;
		float: right;
		clear: both;
	}

	@media screen and (max-width: 480px) {
		.edit-guidelines {
			display: none;
		}
	}
</style>
<a class="edit-guidelines" href="">
	Check out how to contribute!
</a>


  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="eterpack">
<h1>EterPack<a class="headerlink" href="#eterpack" title="Permalink to this headline">¶</a></h1>
<p>The EterPack is a proprietary Virtual File System used for containing all the Client assets
(such as 3d meshes, sfx, textures).</p>
<p>An EterPack consists of two files, the Index file (.eix) and the Content file (.epk)</p>
<p>The Content file is where the files are stored, either encrypted
or decrypted, while the Index file is where all information
of the files are stored.
(An information might be the file’s compression type or the directory
where it should virtually mapped)</p>
<p>Index files are usually encrypted as a Crypted Object, therefore before
reading the header, the client must decrypt the file following
the method described in the Crypted Object page.</p>
<div class="section" id="formats">
<h2>Formats<a class="headerlink" href="#formats" title="Permalink to this headline">¶</a></h2>
<div class="section" id="index-eix-extension">
<h3>Index (.eix extension)<a class="headerlink" href="#index-eix-extension" title="Permalink to this headline">¶</a></h3>
<p><img alt="Index file" src="../../../../_images/Indexfile_header.png" /></p>
<div class="section" id="header-16-bytes">
<h4>Header ( 16 bytes )<a class="headerlink" href="#header-16-bytes" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Color</p></th>
<th class="head"><p>Bytes</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span style="color:red">Red</span></p></td>
<td><p>4</p></td>
<td><p>FourCC (EPKD)</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:royalblue">Blue</span></p></td>
<td><p>4</p></td>
<td><p>Version (Must be 2, it is not known if a EPK with version 1 exists)</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:green">Green</span></p></td>
<td><p>4</p></td>
<td><p>Amount of files in the content</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:yellow">Yellow</span></p></td>
<td><p>4</p></td>
<td><p>Start of the file index information</p></td>
</tr>
</tbody>
</table>
<p>From the number of files included in this EterPack, it follows one or more “Index File Information” or simply File information.</p>
</div>
<div class="section" id="file-information-193-bytes">
<h4>File Information ( 193 bytes )<a class="headerlink" href="#file-information-193-bytes" title="Permalink to this headline">¶</a></h4>
<p><img alt="Index FIle" src="../../../../_images/Indexfile_finfo.png" /></p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Color</p></th>
<th class="head"><p>Bytes</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span style="color:red">Red</span></p></td>
<td><p>4</p></td>
<td><p>Id</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:royalblue">Blue</span></p></td>
<td><p>160 + 1</p></td>
<td><p>File name (ASCII) + Null terminator</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:#555">Black</span></p></td>
<td><p>3</p></td>
<td><p>Padding</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:green">Green</span></p></td>
<td><p>3</p></td>
<td><p>File name CRC32</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:yellow">Yellow</span></p></td>
<td><p>4</p></td>
<td><p>Decompressed and decrypted file size</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:gray">Gray</span></p></td>
<td><p>4</p></td>
<td><p>Packed file size in the Content</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:orange">Orange</span></p></td>
<td><p>4</p></td>
<td><p>Packed file CRC32 in the Content</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:brown">Brown</span></p></td>
<td><p>4</p></td>
<td><p>Packed file offset in the Content</p></td>
</tr>
<tr class="row-even"><td><p><span style="color:purple">Purple</span></p></td>
<td><p>4</p></td>
<td><p>Encryption type</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color:#555">Black</span></p></td>
<td><p>2</p></td>
<td><p>Padding</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="content-epk-extension">
<h3>Content (.epk extension)<a class="headerlink" href="#content-epk-extension" title="Permalink to this headline">¶</a></h3>
<p>A Content file (.epk) contains the data encrypted by the specified
algorithm type, there is no header or any format in this file,
they are raw files which can be mapped by information that comes
from the Index information specified above</p>
<div class="section" id="algorithm-types">
<h4>Algorithm Types<a class="headerlink" href="#algorithm-types" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Raw</p></td>
<td><p>No compression or encryption</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>LZO</p></td>
<td><p>Compressed with LZO</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>LZO+XTEA</p></td>
<td><p>Compressed with LZO then encrypted with XTEA</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Panama</p></td>
<td><p>Encrypted with Panama</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference internal" href="../../../Topics/Cryptography/type_4.html"><span class="doc std std-doc">HybridCrypt</span></a></p></td>
<td><p>HybridCrypt</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><a class="reference internal" href="../../../Topics/Cryptography/type_5.html"><span class="doc std std-doc">HybridCrypt+</span></a></p></td>
<td><p>HybridCrypt with extra data</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Snappy+XTEA</p></td>
<td><p>Compressed with Snappy then encrypted with XTEA using the Content keys (In other words, a MCSP CryptedObject)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Permalink to this headline">¶</a></h2>
<p>All the packs are stored inside the pack/ folder of the
game client, and they are loaded in a specified order defined by
the Pack <code class="docutils literal notranslate"><span class="pre">Index</span></code> that’s also present in that same folder</p>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>